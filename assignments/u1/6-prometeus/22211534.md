<div align="center">

# 🎓 InfluxDB
## Sistemas Programables
### Castro Balbuena Angel Andres - 22211534

**Instituto Tecnologico De Tijuana**

*23/09/25*

---

</div>
# 1. Instalación de Prometheus 🔍

## 1.1 Actualizar el sistema

Mantén el sistema actualizado antes de proceder:

```bash
sudo apt update
sudo apt upgrade -y
```
<img width="1920" height="1032" alt="Captura de pantalla 2025-09-24 003131" src="https://github.com/user-attachments/assets/20c58a86-57c8-4020-a1b5-018352268161" />

## 1.2 Instalar Prometheus y Node Exporter

En Ubuntu 20.04/24.04 los paquetes oficiales ya están disponibles en los repositorios:

```bash
sudo apt install -y prometheus prometheus-node-exporter
```
<img width="1920" height="1032" alt="Captura de pantalla 2025-09-24 003218" src="https://github.com/user-attachments/assets/81dbb02e-b8b4-437b-89ec-fb3f3dd762fc" />

> 📦 **Nota:** Esta instalación incluye tanto Prometheus (servidor de monitoreo) como Node Exporter (exportador de métricas del sistema).

## 1.3 Verificar servicios

Comprueba que ambos servicios estén ejecutándose correctamente:

```bash
systemctl status prometheus
systemctl status prometheus-node-exporter
```
<img width="1445" height="612" alt="Captura de pantalla 2025-09-24 003741" src="https://github.com/user-attachments/assets/215c34aa-a519-4376-b3a0-9142b379791b" />

✅ **Estado esperado:** Ambos servicios deben aparecer como **`active (running)`**

---

# 2. Acceso a la interfaz web 🌐

## 2.1 URLs de acceso
 - Añadir las reglas de entrada con protocolo TCP 9090 para Prometheus y 9100 para Node Explorer
<img width="1920" height="1032" alt="Captura de pantalla 2025-09-24 003017" src="https://github.com/user-attachments/assets/9da6d45f-2c35-4fc9-b8d7-cccddbc49c95" />

Una vez instalado, puedes acceder a las siguientes interfaces:

| Servicio | URL | Puerto | Descripción |
|----------|-----|--------|-------------|
| **Prometheus** | `http://3.214.143.70:9090` | 9090 | Dashboard principal |
| **Node Exporter** | `http://3.214.143.70:9100/metrics` | 9100 | Métricas del sistema |

> 🔧 **Security Group:** Asegúrate de abrir los puertos **9090** y **9100** en el Security Group de tu instancia EC2.

---


## 3 Consulta básica en Prometheus

### 🔎 **Métrica de prueba:**

En la interfaz de Prometheus (`http://<IP_PUBLICA_EC2>:9090`):

1. Ve a la pestaña **"Graph"**
2. En el campo de consulta, escribe:
   ```promql
   up
   ```
3. Haz clic en **"Execute"**
4. **Documenta el resultado** obtenido
     <img width="1920" height="1032" alt="Captura de pantalla 2025-09-24 003926" src="https://github.com/user-attachments/assets/ceed4e64-3446-4e95-9d61-bbcb97db3961" />
     
> 💡 **¿Qué significa `up`?** Esta métrica indica si los servicios monitoreados están disponibles (1 = activo, 0 = inactivo).
5. **Captura de las metricas**
     <img width="1920" height="1032" alt="Captura de pantalla 2025-09-24 004311" src="https://github.com/user-attachments/assets/719a46f1-0025-4d8a-89dc-c2450f5827f5" />

---

## 🔧 Comandos útiles de verificación

```bash
# Verificar puertos en uso
sudo netstat -tlnp | grep -E ':909[0-9]'

# Ver logs de Prometheus
sudo journalctl -u prometheus -f

# Ver logs de Node Exporter
sudo journalctl -u prometheus-node-exporter -f

# Reiniciar servicios si es necesario
sudo systemctl restart prometheus
sudo systemctl restart prometheus-node-exporter
```
